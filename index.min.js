"use strict";!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.RequestJs=e()}("undefined"!=typeof self?self:this,function(){var e,I,v;function x(r,n){var o,s,u,a,t,e,i,f,c,d,l,p,h,m,O,R,T,g="accept",y="content-type";if(u=m=h=o=!1,C(r)&&q(r.url)){var E;if(E=r.timeout,isFinite(E)&&0<r.timeout&&(s=setTimeout(function(){o||(u=!0,a.abort(),b({data:"",config:r,status:0,statusText:"",headers:"",requestStatus:x.TIMEOUT}))},r.timeout)),(a=new window.XMLHttpRequest).onreadystatechange=function(){var e,t;if(a&&4===a.readyState)if(T=1223===a.status?204:a.status,R="response"in a?a.response:a.responseText,0===T&&(T=R?200:"file:"===function(t){var e;if(!q(t))return;e=t,I&&(v.setAttribute("href",e),e=v.href);return v.setAttribute("href",e),{href:v.href,protocol:v.protocol,host:v.host,search:v.search,hash:v.hash,hostname:v.hostname,port:v.port,pathname:v.pathname}}(r.url).protocol?404:0),e={data:R,config:r,status:T,statusText:a.statusText||"",headers:a.getAllResponseHeaders()},200<=(n=T)&&n<300)if(!0===r.json&&q(R))try{t=JSON.parse(R),e.data=t,e.requestStatus=x.COMPLETED,b(null,e)}catch(t){e.requestStatus=x.ERROR,b(e)}else e.requestStatus=x.COMPLETED,b(null,e);else e.requestStatus=u?x.TIMEOUT:x.ERROR,b(e);var n},t=r.url,(e=function(t){var o,e,n,r,s,u;if(!C(t))return;for(o=[],e=Object.keys(t),n=e.length,r=0;r<n;r++)s=encodeURIComponent(e[r]),A(u=t[s])&&(Array.isArray(u)?a(s,u):o.push(s+"="+encodeURIComponent(L(u))));return o.join["&"];function a(t,e){var n,r;for(r=e.length,n=0;n<r;n++)A(e[n])&&o.push(t+"="+encodeURIComponent(L(e[n])))}}(r.params))&&(t+=0<t.indexOf("?")?"&":"?",t+=e),O=r.method?r.method.toUpperCase():"GET",a.open(O,t,!0),C(r.headers))for(l=(i=Object.keys(r.headers)).length,p=0;p<l;p++)c=(f=i[p]).toLowerCase(),h||c!==g||(h=!0),m||c!==y||(m=!0),S(d=r.headers[f])&&a.setRequestHeader(f,d);return h||a.setRequestHeader(g,"application/json, text/plain, */*"),"POST"!==O&&"PUT"!==O&&"PATCH"!==O||m||a.setRequestHeader(y,"application/json;charset=utf-8"),a.send(S(r.data)?r.data:null),{abort:function(){a&&a.abort()}}}function b(t,e){!o&&j(n)&&(o=!0,clearTimeout(s),function(){a&&(a.onreadystatechange=null);a=null}(),n(t,e))}b(x.ERR_INVALID_CONFIG)}function S(t){return void 0!==t}function C(t){return"object"==typeof t&&null!==t}function j(t){return"function"==typeof t}function q(t){return"string"==typeof t&&0<t.length}function A(t){return t&&"function"!=typeof t}function i(t,e){var n,r,o,s,u,a;if(C(t)&&C(e))for(o=(n=Object.keys(e)).length,r=0;r<o;r++)u=t[s=n[r]],a=e[s],t[s]=C(u)&&C(a)?i(u,a):a;return t}function L(t){return C(t)?(e=t,"[object Date]"===Object.prototype.toString.call(e)?t.toISOString:JSON.stringify(t)):t;var e}return e=window.navigator.userAgent,I=function(){var t;if(0<(t=e.indexOf("MSIE ")))return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<(t=e.indexOf("Trident/")))return t=e.indexOf("rv:"),parseInt(e.substring(t+3,e.indexOf(".",t)),10);return 0}(),v=document.createElement("a"),x.ERR_INVALID_CONFIG="Invalid config",x.ERROR="error",x.ABORTED="aborted",x.TIMEOUT="timeout",x.COMPLETED="completed",x.get=function(t,e,n){if(j(e))return x(i({method:"GET",url:t},n),e)},x.post=function(t,e,n,r){if(j(n))return x(i({method:"POST",url:t,data:e},r),n)},x.parseHeaders=function(t){var n,e,r,o,s,u;if(n={},q(t))for(s=(e=t.trim().split("\n")).length,o=0;o<s;o++)u=(r=e[o]).indexOf(":"),a(r.substr(0,u).trim().toLowerCase(),r.substr(u+1).trim());else if(C(t))for(s=(e=Object.keys(t)).length,o=0;o<s;o++)a((r=e[o]).toLowerCase(),t[r].trim());return n;function a(t,e){t&&(n[t]=n[t]?n[t]+", "+e:e)}},x});