!function(t){var b,E,x,S;function v(t,n){var r,o,s,e,a,u,i,f,c,l=!1,d=0,p=!1,h=!1,m=!1,O=null,R={abort:y},g=w(t)?{url:t}:t&&w(t.url)?t:null;if(!g)return T({data:"",config:{url:""},status:0,statusText:"Invalid config",headers:"",requestStatus:v.ERROR}),R;if(R=(s=g).url,"number"==typeof s.timeout&&0<s.timeout&&(d=setTimeout(function(){l||(p=!0,O&&O.abort(),T({data:"",config:s,status:0,statusText:"",headers:"",requestStatus:v.TIMEOUT}))},s.timeout)),(O=new XMLHttpRequest).onreadystatechange=function(){var e;if(O&&4===O.readyState)if(r=1223===O.status?204:O.status,o="response"in O?O.response:O.responseText,0===r&&(r=o?200:"file:"===function(t){var e;e="function"==typeof URL?new URL(t):(S||"object"==typeof document&&document&&"function"==typeof document.createElement&&(S=document.createElement("a")),e=t,x&&(S.setAttribute("href",e),e=S.href),S.setAttribute("href",e),S);return{href:e.href,protocol:e.protocol,host:e.host,search:e.search,hash:e.hash,hostname:e.hostname,port:e.port,pathname:e.pathname}}(s.url).protocol?404:0),e={data:o,config:s,status:r,statusText:O.statusText||"",headers:O.getAllResponseHeaders(),requestStatus:""},200<=r&&r<300)if(!0===s.json&&w(o))try{e.data=JSON.parse(o),e.requestStatus=v.COMPLETED,T(null,e)}catch(t){e.requestStatus=v.ERROR,T(e)}else e.requestStatus=v.COMPLETED,T(null,e);else e.requestStatus=p?v.TIMEOUT:v.ERROR,T(e)},(g=function(t){var e,n,r,o,s,a;if(!j(t))return"";for(e=[],n=Object.keys(t),r=n.length,o=0;o<r;o++)s=encodeURIComponent(n[o]),q(a=t[s])||(Array.isArray(a)?function(t,e,n){var r,o,s;for(r=n.length,o=0;o<r;o++)q(s=n[o])||t.push(e+"="+encodeURIComponent(C(s)))}(e,s,a):e.push(s+"="+encodeURIComponent(C(a))));return e.join("&")}(s.params))&&(R+=0<R.indexOf("?")?"&":"?",R+=g),g=s.method?s.method.toUpperCase():"GET",O.open(g,R,!0),j(s.headers))for(a=(e=Object.keys(s.headers)).length,u=0;u<a;u++)f=(i=e[u]).toLowerCase(),c=""+s.headers[i],h||f!==b||(h=!0),m||f!==E||(m=!0),void 0!==c&&O.setRequestHeader(i,c);return h||O.setRequestHeader(b,"application/json, text/plain, */*"),"POST"!==g&&"PUT"!==g&&"PATCH"!==g||m||O.setRequestHeader(E,"application/json;charset=utf-8"),O.send(void 0!==s.data?s.data:null),{abort:y};function y(){O&&O.abort()}function T(t,e){l||(l=!0,clearTimeout(d),function(){O&&(O.onreadystatechange=null);O=null}(),q(n)&&n(t,e))}}function j(t){return"object"==typeof t&&null!==t}function w(t){return"string"==typeof t&&0<t.length}function q(t){return"function"==typeof t}function C(t){return j(t)?"[object Date]"===Object.prototype.toString.call(t)?t.toISOString():JSON.stringify(t):t}function u(t,e,n){e&&(t[e]=t[e]?t[e]+", "+n:n)}b="accept",E="content-type",x=function(){var t,e;if("object"==typeof window&&window&&window.navigator){if(t=window.navigator.userAgent,0<(e=t.indexOf("MSIE ")))return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(0<(e=t.indexOf("Trident/")))return e=t.indexOf("rv:"),parseInt(t.substring(e+3,t.indexOf(".",e)),10)}return 0}(),v.parseHeaders=function(t){var e,n,r,o,s,a={};if(w(t))for(n=(e=t.trim().split("\n")).length,r=0;r<n;r++)s=(o=e[r]).indexOf(":"),u(a,o.substr(0,s).trim().toLowerCase(),o.substr(s+1).trim());else if(j(t))for(n=(e=Object.keys(t)).length,r=0;r<n;r++)u(a,(o=e[r]).toLowerCase(),t[o].trim());return a},v.ERROR="error",v.TIMEOUT="timeout",v.COMPLETED="completed","object"==typeof module&&module.exports?module.exports=v:t.RequestJs=v}("undefined"!=typeof self?self:this);