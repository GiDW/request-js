"use strict";!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.RequestJs=e()}("undefined"!=typeof self?self:this,function(){var e,y,b,E="accept",I="content-type";function v(n,r){var o,s,a,u,t,e,i,f,c,d,l,p,h,m,O,R,T;if(a=m=h=o=!1,x(n)&&S(n.url)){if("number"==typeof n.timeout&&0<n.timeout&&(s=setTimeout(function(){o||(a=!0,u.abort(),g({data:"",config:n,status:0,statusText:"",headers:"",requestStatus:v.TIMEOUT}))},n.timeout)),(u=new window.XMLHttpRequest).onreadystatechange=function(){var e,t;if(u&&4===u.readyState)if(T=1223===u.status?204:u.status,R="response"in u?u.response:u.responseText,0===T&&(T=R?200:"file:"===function(t){var e;e=t,y&&(b.setAttribute("href",e),e=b.href);return b.setAttribute("href",e),{href:b.href,protocol:b.protocol,host:b.host,search:b.search,hash:b.hash,hostname:b.hostname,port:b.port,pathname:b.pathname}}(n.url).protocol?404:0),e={data:R,config:n,status:T,statusText:u.statusText||"",headers:u.getAllResponseHeaders()},200<=T&&T<300)if(!0===n.json&&S(R))try{t=JSON.parse(R),e.data=t,e.requestStatus=v.COMPLETED,g(null,e)}catch(t){e.requestStatus=v.ERROR,g(e)}else e.requestStatus=v.COMPLETED,g(null,e);else e.requestStatus=a?v.TIMEOUT:v.ERROR,g(e)},t=n.url,(e=function(t){var o,e,n,r,s,a;if(!x(t))return;for(o=[],e=Object.keys(t),n=e.length,r=0;r<n;r++)s=encodeURIComponent(e[r]),C(a=t[s])&&(Array.isArray(a)?u(s,a):o.push(s+"="+encodeURIComponent(j(a))));return o.join("&");function u(t,e){var n,r;for(r=e.length,n=0;n<r;n++)C(e[n])&&o.push(t+"="+encodeURIComponent(j(e[n])))}}(n.params))&&(t+=0<t.indexOf("?")?"&":"?",t+=e),O=n.method?n.method.toUpperCase():"GET",u.open(O,t,!0),x(n.headers))for(l=(i=Object.keys(n.headers)).length,p=0;p<l;p++)c=(f=i[p]).toLowerCase(),d=n.headers[f],h||c!==E||(h=!0),m||c!==I||(m=!0),void 0!==d&&u.setRequestHeader(f,d);return h||u.setRequestHeader(E,"application/json, text/plain, */*"),"POST"!==O&&"PUT"!==O&&"PATCH"!==O||m||u.setRequestHeader(I,"application/json;charset=utf-8"),u.send(void 0!==n.data?n.data:null),{abort:function(){u&&u.abort()}}}function g(t,e){o||(o=!0,clearTimeout(s),function(){u&&(u.onreadystatechange=null);u=null}(),"function"==typeof r&&r(t,e))}g(v.ERR_INVALID_CONFIG)}function x(t){return"object"==typeof t&&null!==t}function S(t){return"string"==typeof t&&0<t.length}function C(t){return t&&"function"!=typeof t}function j(t){return x(t)?"[object Date]"===Object.prototype.toString.call(t)?t.toISOString:JSON.stringify(t):t}return e=window.navigator.userAgent,y=function(){var t;if(0<(t=e.indexOf("MSIE ")))return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<(t=e.indexOf("Trident/")))return t=e.indexOf("rv:"),parseInt(e.substring(t+3,e.indexOf(".",t)),10);return 0}(),b=document.createElement("a"),v.ERR_INVALID_CONFIG="Invalid config",v.ERROR="error",v.ABORTED="aborted",v.TIMEOUT="timeout",v.COMPLETED="completed",v.get=function(t,e,n){var r;return x(r=n)||(r={}),r.url=t,v(r,e)},v.post=function(t,e,n,r){var o;return x(o=r)||(o={}),o.method="POST",o.url=t,o.data=e,v(o,n)},v.parseHeaders=function(t){var n,e,r,o,s,a;if(n={},S(t))for(s=(e=t.trim().split("\n")).length,o=0;o<s;o++)a=(r=e[o]).indexOf(":"),u(r.substr(0,a).trim().toLowerCase(),r.substr(a+1).trim());else if(x(t))for(s=(e=Object.keys(t)).length,o=0;o<s;o++)u((r=e[o]).toLowerCase(),t[r].trim());return n;function u(t,e){t&&(n[t]=n[t]?n[t]+", "+e:e)}},v});