<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Request Test</title>
        <script src="index.js"></script>
    </head>
    <body>
        <input id="inUrl" type="text">
        <input id="chkJson" type="checkbox">
        <button id="btnRequest">Request</button>
        <button id="btnReset">Reset</button>
        <script>
            (function () {
                // TEST 'https://jsonplaceholder.typicode.com/posts/1'

                var inUrl, chkJson

                document.addEventListener('DOMContentLoaded', start)

                function start () {
                    var btnRequest, btnReset

                    inUrl = document.getElementById('inUrl')
                    chkJson = document.getElementById('chkJson')
                    btnRequest = document.getElementById('btnRequest')
                    btnReset = document.getElementById('btnReset')

                    btnRequest.addEventListener('click',actionRequest)
                    btnReset.addEventListener('click',actionReset)
                }

                function actionRequest () {
                    console.log('ACTION Request', chkJson.checked)
                    RequestJs(
                        {
                            url: inUrl.value,
                            json: chkJson.checked
                        },
                        onRequest
                    )
                }

                function actionReset () {
                    console.log('ACTION Reset')
                    inUrl.value = ''
                }

                function onRequest (err, result) {
                    console.log('On requst', err, result)
                }
            }())
        </script>
    </body>
</html>
